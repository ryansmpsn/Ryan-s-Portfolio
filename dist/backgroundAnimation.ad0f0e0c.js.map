{"version":3,"sources":["js/backgroundAnimation.js"],"names":["width","height","largeHeader","canvas","ctx","points","target","animateHeader","initHeader","initAnimation","addListeners","window","innerWidth","innerHeight","x","y","document","getElementById","style","getContext","px","Math","random","py","p","originX","originY","push","i","length","closest","p1","j","p2","placed","k","undefined","getDistance","c","Circle","circle","addEventListener","mouseMove","scrollCheck","resize","e","posx","posy","pageX","pageY","clientX","clientY","body","scrollLeft","documentElement","scrollTop","animate","shiftPoint","clearRect","abs","active","drawLines","draw","requestAnimationFrame","TweenLite","to","ease","Circ","easeInOut","onComplete","beginPath","moveTo","lineTo","strokeStyle","stroke","pos","rad","color","_this","radius","arc","PI","fillStyle","fill","pow"],"mappings":"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","file":"backgroundAnimation.ad0f0e0c.js","sourceRoot":"..","sourcesContent":["(function () {\r\n  var width,\r\n    height,\r\n    largeHeader,\r\n    canvas,\r\n    ctx,\r\n    points,\r\n    target,\r\n    animateHeader = true;\r\n\r\n  // Main\r\n  initHeader();\r\n  initAnimation();\r\n  addListeners();\r\n\r\n  function initHeader() {\r\n    width = window.innerWidth;\r\n    height = window.innerHeight;\r\n    target = { x: width / 2, y: height / 2 };\r\n\r\n    largeHeader = document.getElementById(\"large-header\");\r\n    largeHeader.style.height = height + \"px\";\r\n\r\n    canvas = document.getElementById(\"hover-canvas\");\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n    ctx = canvas.getContext(\"2d\");\r\n\r\n    // create points\r\n    points = [];\r\n    for (var x = 0; x < width; x = x + width / 20) {\r\n      for (var y = 0; y < height; y = y + height / 20) {\r\n        var px = x + (Math.random() * width) / 20;\r\n        var py = y + (Math.random() * height) / 20;\r\n        var p = { x: px, originX: px, y: py, originY: py };\r\n        points.push(p);\r\n      }\r\n    }\r\n\r\n    // for each point find the 5 closest points\r\n    for (var i = 0; i < points.length; i++) {\r\n      var closest = [];\r\n      var p1 = points[i];\r\n      for (var j = 0; j < points.length; j++) {\r\n        var p2 = points[j];\r\n        if (!(p1 == p2)) {\r\n          var placed = false;\r\n          for (var k = 0; k < 5; k++) {\r\n            if (!placed) {\r\n              if (closest[k] == undefined) {\r\n                closest[k] = p2;\r\n                placed = true;\r\n              }\r\n            }\r\n          }\r\n\r\n          for (var k = 0; k < 5; k++) {\r\n            if (!placed) {\r\n              if (getDistance(p1, p2) < getDistance(p1, closest[k])) {\r\n                closest[k] = p2;\r\n                placed = true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      p1.closest = closest;\r\n    }\r\n\r\n    // assign a circle to each point\r\n    for (var i in points) {\r\n      var c = new Circle(points[i], 2 + Math.random() * 2, \"rgba(255,255,255,0.3)\");\r\n      points[i].circle = c;\r\n    }\r\n  }\r\n\r\n  // Event handling\r\n  function addListeners() {\r\n    if (!(\"ontouchstart\" in window)) {\r\n      window.addEventListener(\"mousemove\", mouseMove);\r\n    }\r\n    window.addEventListener(\"scroll\", scrollCheck);\r\n    window.addEventListener(\"resize\", resize);\r\n  }\r\n\r\n  function mouseMove(e) {\r\n    var posx = (posy = 0);\r\n    if (e.pageX || e.pageY) {\r\n      posx = e.pageX;\r\n      posy = e.pageY;\r\n    } else if (e.clientX || e.clientY) {\r\n      posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\r\n      posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\r\n    }\r\n    target.x = posx;\r\n    target.y = posy;\r\n  }\r\n\r\n  function scrollCheck() {\r\n    if (document.body.scrollTop > height) animateHeader = false;\r\n    else animateHeader = true;\r\n  }\r\n\r\n  function resize() {\r\n    width = window.innerWidth;\r\n    height = window.innerHeight;\r\n    largeHeader.style.height = height + \"px\";\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n  }\r\n\r\n  // animation\r\n  function initAnimation() {\r\n    animate();\r\n    for (var i in points) {\r\n      shiftPoint(points[i]);\r\n    }\r\n  }\r\n\r\n  function animate() {\r\n    if (animateHeader) {\r\n      ctx.clearRect(0, 0, width, height);\r\n      for (var i in points) {\r\n        // detect points in range\r\n        if (Math.abs(getDistance(target, points[i])) < 4000) {\r\n          points[i].active = 0.3;\r\n          points[i].circle.active = 0.6;\r\n        } else if (Math.abs(getDistance(target, points[i])) < 20000) {\r\n          points[i].active = 0.1;\r\n          points[i].circle.active = 0.3;\r\n        } else if (Math.abs(getDistance(target, points[i])) < 40000) {\r\n          points[i].active = 0.02;\r\n          points[i].circle.active = 0.1;\r\n        } else {\r\n          points[i].active = 0;\r\n          points[i].circle.active = 0;\r\n        }\r\n\r\n        drawLines(points[i]);\r\n        points[i].circle.draw();\r\n      }\r\n    }\r\n    requestAnimationFrame(animate);\r\n  }\r\n\r\n  function shiftPoint(p) {\r\n    TweenLite.to(p, 1 + 1 * Math.random(), {\r\n      x: p.originX - 50 + Math.random() * 100,\r\n      y: p.originY - 50 + Math.random() * 100,\r\n      ease: Circ.easeInOut,\r\n      onComplete: function () {\r\n        shiftPoint(p);\r\n      },\r\n    });\r\n  }\r\n\r\n  // Canvas manipulation\r\n  function drawLines(p) {\r\n    if (!p.active) return;\r\n    for (var i in p.closest) {\r\n      ctx.beginPath();\r\n      ctx.moveTo(p.x, p.y);\r\n      ctx.lineTo(p.closest[i].x, p.closest[i].y);\r\n      ctx.strokeStyle = \"rgba(156,217,249,\" + p.active + \")\";\r\n      ctx.stroke();\r\n    }\r\n  }\r\n\r\n  function Circle(pos, rad, color) {\r\n    var _this = this;\r\n\r\n    // constructor\r\n    (function () {\r\n      _this.pos = pos || null;\r\n      _this.radius = rad || null;\r\n      _this.color = color || null;\r\n    })();\r\n\r\n    this.draw = function () {\r\n      if (!_this.active) return;\r\n      ctx.beginPath();\r\n      ctx.arc(_this.pos.x, _this.pos.y, _this.radius, 0, 2 * Math.PI, false);\r\n      ctx.fillStyle = \"rgba(156,217,249,\" + _this.active + \")\";\r\n      ctx.fill();\r\n    };\r\n  }\r\n\r\n  // Util\r\n  function getDistance(p1, p2) {\r\n    return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2);\r\n  }\r\n})();\r\n"]}